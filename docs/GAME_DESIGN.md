# IRON COMMAND - Game Design Document

> **Project**: IRON COMMAND (Working Title)  
> **Genre**: Hybrid RTS / FPS (Real-Time Strategy + First-Person Shooter)  
> **Visual Style**: Stylized "Toy Soldier" Realism (High fidelity, chunky proportions, matte finishes, "diorama" aesthetic)

## 1. Core Concept

Iron Command is a tactical strategy game that bridges the gap between macro-management and micro-combat. Players are tasked with establishing a Forward Operating Base (FOB) in hostile territory, extracting vital resources (Oil & Steel), and deploying a mechanized army to liberate sectors.

### The "Battlefield Duality" (Unique Feature)

The game's defining mechanic is the seamless transition of scale.

**Commander View (RTS)**: From a high-angle, isometric perspective, players manage base construction, resource flow, and unit rallying. This layer focuses on logistics, positioning, and grand strategy.

**Field Operative View (FPS)**: At any moment, the player can "possess" a specific unit on the ground. The camera swoops down from the sky, locking into the unit's perspective. In this mode, the player gains direct control over aiming, movement, and firing.

**Incentive**: Manual control offers increased accuracy, faster fire rates, and the ability to utilize cover more effectively than the standard AI pathfinding. It turns a standard grunt into a hero unit.

## 2. Visual Identity

### Palette (Tactical Triad)
- **Tan** (#d2b48c): Primary terrain and base color
- **Olive Drab** (#556b2f): Friendly units and foliage  
- **Gunmetal Grey** (#2c3e50): Structures and heavy machinery
- **Alert Orange** (#ff4500): Hazards and enemy UI elements

### Terrain Biomes

**Default: Scorched Desert**
- Cracked earth textures
- Heat haze effects
- Drifting sand particles
- Stark lighting with high contrast
- Orange/brown palette

**Future Biomes:**
- **Urban Decay**: Cracked asphalt, concrete rubble, rusted rebar
- **Jungle Ops**: Muddy terrain, dense foliage, rain effects

### Materials
- **Concrete**: Heavily textured with pockmarks and stains
- **Steel**: Brushed metal with procedural rust on edges
- **Fabric**: Canvas textures for tents and sandbags
- **Paint**: Matte military finishes (Olive Drab, Desert Tan) with edge wear

### Lighting
- **Sun**: High intensity, casting sharp, long shadows
- **Ambient**: Lower ambient light to create true darkness
- **UI**: Cold Blue/Green holographic overlays with scanlines

### Typography
- **Headings**: 'Black Ops One'
- **Body Text**: 'Chakra Petch'

## 3. Economy & Resources

### Credits (Primary Currency)
**Usage**: Funding building construction, defensive turrets, and technology research  
**Source**: Generated by Supply Depots (automated air-drops) or salvaged from destroyed enemy structures

### Fuel (Biological/Vehicle Resource)
**Usage**: Training biological units, manufacturing vehicles, and fueling heavy abilities (e.g., Airstrikes)  
**Source**: Extracted by Oil Derricks placed on specific resource nodes

### Power (New Resource - Upkeep System)
**Mechanic**: A global "upkeep" resource. Every building consumes a specific wattage.

**Consequence**: If Power dips below consumption, base efficiency drops. Radars stop spinning, production speeds halve, and automated Sentry Turrets reduce their fire rate or shut down entirely.

**Source**: Generated by Power Plants (Diesel Generators or Solar Arrays)

## 4. Building Roster

### Core Infrastructure

**Command Center (HQ)**
- **Replaces**: Town Hall
- **Visuals**: Heavily fortified bunker with rotating radar dish, helipad for supply drones, comms antennas
- **Function**: Heart of the base. Unlocks FPS "Commander Mode". Destruction = immediate defeat.

**Combat Engineering Station**
- **Replaces**: Builder's Hut
- **Visuals**: Workshop with welding sparks, parked bulldozer/crane

### Economy & Logistics

**Supply Drop / Logistics Center**
- **Replaces**: Gold Mine
- **Visuals**: Landing pad with pallets of crates, ammo boxes, barrels. Autonomous forklift.

**Oil Derrick**
- **Replaces**: Elixir Pump
- **Visuals**: Classic "nodding donkey" pump with heavy counterweight, black pipes with yellow hazard striping

### Military Production

**Infantry Motor Pool**
- **Replaces**: Barracks
- **Visuals**: Quonset hut with open bay doors, lockers, weapon racks, soldiers doing drills

**Heavy Factory**
- **New Building**
- **Visuals**: Large industrial facility with gantry crane, robotic arms assembling vehicles

### Defensive Structures

**Sentry Turret**
- **Replaces**: Cannon
- **Visuals**: Dual-barreled minigun on concrete tripod base with optical sensors
- **FPS Interaction**: Can be manually controlled for high-precision defense

**Blast Wall**
- **Replaces**: Wall
- **Visuals**: Modular concrete H-barriers (Hesco bastions) or sandbags topped with barbed wire

**Mortar Pit**
- **New Defense**
- **Visuals**: Circular sandbag emplacement with tube mortar and stacked shells
- **Function**: Fires indirect high-explosive shells (lobbed arc) effective against clustered infantry

## 5. Unit Roster

All units designed with Direct Control in mind. 3D models require:
- `headBone` for camera mounting
- `muzzleBone` for projectile spawning

### Rifleman (Basic Infantry)
- **Replaces**: Barbarian
- **Visuals**: Standard fatigues, kevlar vest, combat helmet
- **FPS Weapon**: Assault Rifle with Holographic Sight
- **Aiming**: ADS (Aim Down Sights) with red dot sight, recoil pushes view upward
- **Role**: Cheap, versatile, captures points

### Sniper / Ranger (Specialist)
- **Replaces**: Archer
- **Visuals**: Ghillie suit or tactical beret, lighter armor
- **FPS Weapon**: High-Caliber Sniper Rifle (bolt-action)
- **Aiming Mechanics**:
  - Dual-Render Scope (zoomed view in scope, normal peripheral)
  - Breath Control (Shift key steadies sway)
  - Variable Zoom (4x to 8x)
- **Role**: High-value target elimination, long-range harassment

### Heavy / Commando (Suppression)
- **New Unit**
- **Visuals**: EOD-style heavy armor, massive backpack ammo feed
- **FPS Weapon**: Rotary Minigun
- **Aiming**: No ADS. Right-click spools barrel. Massive screen shake, slows movement by 50%
- **Role**: Tanky frontline anchor, suppresses hordes

### Light Tank (Vehicle)
- **New Unit**
- **Visuals**: Nimble tracked vehicle with rotating turret, animated treads
- **FPS Weapon**: 105mm Cannon + Coaxial MG
- **FPS Controls**: Tank Controls (W/S hull movement, A/D hull rotation, mouse for turret)
- **Role**: Anti-structure, mobile cover

## 6. Technical Migration Roadmap

### Phase 1: The "Reskin" (Immediate)
**Goal**: Replace fantasy aesthetic with military theme

**Tasks**:
- Palette swap to desert tones
- Replace grass shader with sand shader
- Update asset logic (Command Center, Oil Derrick)
- UI update (fonts, resource icons)

### Phase 2: The "Feel" (Animation & FX)
**Goal**: Make combat feel kinetic and impactful

**Tasks**:
- Replace projectiles with fast tracers and missiles
- Explosions: Dark smoke and fire
- Impacts: Dirt kicks, sparks on metal
- Audio planning: Radio chatter, mechanical SFX

### Phase 3: The "Boots on the Ground" (FPS Engine)
**Goal**: Implement world-class FPS mechanics

**Tasks**:
- Camera state machine (RTS ↔ FPS)
- Weapon sway & bob
- ADS & scope rendering
- HUD swapping (RTS UI ↔ FPS HUD)

### Phase 4: Advanced Mechanics
**Goal**: Deepen tactical gameplay

**Tasks**:
- Vehicle logic (independent turret rotation)
- Cover system (spatial queries for damage reduction)
- Ballistics (hitscan vs. projectile physics)

## 7. Performance Targets (iOS)

- **Frame Rate**: 60 FPS on iPhone 12+
- **Draw Calls**: < 200 per frame in RTS mode
- **Polygon Budget**: Max 100k triangles on screen
- **Texture Memory**: < 512MB total
- **Cold Start**: < 3 seconds
- **Memory Footprint**: < 200MB

## 8. FPS Mechanics Detail

### Weapon System
```typescript
interface Weapon {
  type: 'hitscan' | 'projectile';
  damage: number;
  fireRate: number;  // rounds per minute
  recoilPattern: Vector3[];
  aimDownSights: {
    fovMultiplier: number;
    transitionTime: number;
  };
}
```

### Aiming Down Sights (ADS)
- Interpolate FOV from default (75°) to weapon-specific value
- Apply vignette effect (opacity: 0.3, radius: 0.6)
- Procedural sway reduction (multiply by 0.3)

### Recoil System
- Apply camera rotation based on pattern array
- Recovery rate: 0.15 per frame (60 FPS)
- Accumulate horizontal spread on sustained fire

## 9. AI Pathfinding

- **A* Algorithm**: For ground units (grid-based, 1m cells)
- **Flowfield**: For large groups (10+ units)
- **FPS Override**: Player-controlled units ignore AI pathfinding

## 10. Audio Guidelines

- **Combat**: Punchy, realistic weapon sounds (no reverb)
- **UI**: Mechanical clicks, radio static, beeps
- **Ambience**: Diesel engines, distant gunfire, wind
- **Voice**: Radio chatter ("Roger that", "Moving out")

## 11. Multiplayer (Future)

- **1v1 or 2v2** tactical matches
- **Asymmetric gameplay**: One player Commander, others Field Operatives
- **Shared resource pool** in team modes
- **Ranked matchmaking** system

---

**Document Version**: 1.0  
**Last Updated**: December 2024  
**Status**: Phase 1 - Core Prototype
